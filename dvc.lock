schema: '2.0'
stages:
  split:
    cmd: python src/split.py
    deps:
    - path: dataset/data
      hash: md5
      md5: 735891fde4a4ef0c09856aa32e83a8b5.dir
      size: 805843468
      nfiles: 40
    - path: src/split.py
      hash: md5
      md5: 03114f5bbe1dea1bf60e113a44bc693d
      size: 2642
    params:
      params.yaml:
        split.box_size: 1800
        split.overlap: 0.2
        split.shuffle_dataset: false
        split.test_path: split/test
        split.test_size: 1
        split.train_path: split/train
        split.train_size: 1
    outs:
    - path: split/dataset_data.json
      hash: md5
      md5: e43c8dd2a907859a1231ebfffb985b20
      size: 117
  train:
    cmd: python src/train.py
    deps:
    - path: split/dataset_data.json
      hash: md5
      md5: e43c8dd2a907859a1231ebfffb985b20
      size: 117
    - path: src/train.py
      hash: md5
      md5: 3024cf020179c7077afd94bf1a1ddb65
      size: 4427
    params:
      params.yaml:
        train.batch: 1
        train.epochs: 10
        train.start_model_name: sam_vit_b_01ec64.pth
        variable.run_name: alpha
    outs:
    - path: model/train_data.json
      hash: md5
      md5: d3684b1ecd3c99debdea5591e99c25e2
      size: 189
    - path: plot/train/loss_scores_dict.json
      hash: md5
      md5: 02cdb296a3f4b7aafb6f35efd27e07d3
      size: 1073
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: model/train_data.json
      hash: md5
      md5: d3684b1ecd3c99debdea5591e99c25e2
      size: 189
    - path: src/evaluate.py
      hash: md5
      md5: 82dffb0a2fcbd66595d7674cf85cd8d7
      size: 3732
    outs:
    - path: eval/metrics.json
      hash: md5
      md5: 3e85d28d9c67bf38c741f48c7d3446c5
      size: 125
  infer:
    cmd: python src/infer.py
    deps:
    - path: model/train_data.json
      hash: md5
      md5: d3684b1ecd3c99debdea5591e99c25e2
      size: 189
    - path: src/infer.py
      hash: md5
      md5: b61a3677bce8ff628d47340e10d3c47d
      size: 2449
    outs:
    - path: plot/infer/one.png
      hash: md5
      md5: 4be8f8e3902489f7615de88f89001d00
      size: 1466653
    - path: plot/infer/three.png
      hash: md5
      md5: 254e789d62380a62ed6661a055c01277
      size: 1412606
    - path: plot/infer/two.png
      hash: md5
      md5: 3ba4cde7955a020b6bf18aac138b9b90
      size: 1473353
